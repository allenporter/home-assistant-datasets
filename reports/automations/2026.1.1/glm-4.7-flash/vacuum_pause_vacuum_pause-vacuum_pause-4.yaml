---
uuid: cbbd590d-5016-4fbe-9555-41b995d58a47
task_id: vacuum_pause_vacuum_pause-vacuum_pause-4
model_id: glm-4.7-flash
category: vacuum
task:
  input_text: |
    # Vacuum Pause

    ## Problem statement

    Create a blueprint automation to pause the vacuum when I receive a phone call.

    ## Example use cases

    These are example use cases that could be used with the blueprint:

    - Pause the vacuum when I get a phone call from my relatives
    - Don't interrupt my work video convererence call with vacuum noise by pausing it when the call starts

    ## Detailed Description

    The blueprint should accept two inputs:

    | Input               | Description                                                           |
    | ------------------- | --------------------------------------------------------------------- |
    | `phone_call_sensor` | A `binary_sensor` entity that triggers when a phone call is received. |
    | `vacuum_entity`     | A `vacuum` entity to pause when the automation fires.                 |

    The automation should trigger when the binary sensor fires and the vacuum is running. The vacuum
    should be paused (not stopped) and can be resumed manually.
response: |-
  ```yaml
  blueprint:
    domain: automation
    name: Vacuum Pause on Phone Call
    description: Pauses the vacuum when a phone call is detected.
    input:
      phone_call_sensor:
        name: Phone Call Sensor
        description: A binary_sensor that triggers when a call is received.
        selector:
          entity:
            domain: binary_sensor
      vacuum_entity:
        name: Vacuum Entity
        description: The vacuum entity to pause.
        selector:
          entity:
            domain: vacuum

    trigger:
      - platform: state
        entity_id: !input phone_call_sensor
        to: "on"

    condition:
      - platform: state
        entity_id: !input vacuum_entity
        state: "vacuuming"

    action:
      - service: vacuum.pause
        target:
          entity_id: !input vacuum_entity
  ```
context:
  conversation_trace:
  - event_type: async_process
    data:
      text: |
        # Vacuum Pause

        ## Problem statement

        Create a blueprint automation to pause the vacuum when I receive a phone call.

        ## Example use cases

        These are example use cases that could be used with the blueprint:

        - Pause the vacuum when I get a phone call from my relatives
        - Don't interrupt my work video convererence call with vacuum noise by pausing it when the call starts

        ## Detailed Description

        The blueprint should accept two inputs:

        | Input               | Description                                                           |
        | ------------------- | --------------------------------------------------------------------- |
        | `phone_call_sensor` | A `binary_sensor` entity that triggers when a phone call is received. |
        | `vacuum_entity`     | A `vacuum` entity to pause when the automation fires.                 |

        The automation should trigger when the binary sensor fires and the vacuum is running. The vacuum
        should be paused (not stopped) and can be resumed manually.
      context:
        id: 01KG08C99DBMBPESPS0B6APSEV
        parent_id: null
        user_id: null
      conversation_id: null
      device_id: null
      satellite_id: null
      language: en
      agent_id: conversation.mock_title
      extra_system_prompt: null
    timestamp: 2026-01-27 17:35:17.293316+00:00
  - event_type: agent_detail
    data:
      messages:
      - role: system
        content: |-
          You are a voice assistant for Home Assistant.
          Answer questions about the world truthfully.
          Answer in plain text. Keep it simple and to the point.
          Current time is 09:35:17. Today's date is 2026-01-27.
        created: 2026-01-27 17:35:17.295051+00:00
      - role: user
        content: |
          # Vacuum Pause

          ## Problem statement

          Create a blueprint automation to pause the vacuum when I receive a phone call.

          ## Example use cases

          These are example use cases that could be used with the blueprint:

          - Pause the vacuum when I get a phone call from my relatives
          - Don't interrupt my work video convererence call with vacuum noise by pausing it when the call starts

          ## Detailed Description

          The blueprint should accept two inputs:

          | Input               | Description                                                           |
          | ------------------- | --------------------------------------------------------------------- |
          | `phone_call_sensor` | A `binary_sensor` entity that triggers when a phone call is received. |
          | `vacuum_entity`     | A `vacuum` entity to pause when the automation fires.                 |

          The automation should trigger when the binary sensor fires and the vacuum is running. The vacuum
          should be paused (not stopped) and can be resumed manually.
        attachments: null
        created: 2026-01-27 17:35:17.293382+00:00
      - role: assistant
        agent_id: conversation.mock_title
        content: |-
          ```yaml
          blueprint:
            domain: automation
            name: Vacuum Pause on Phone Call
            description: Pauses the vacuum when a phone call is detected.
            input:
              phone_call_sensor:
                name: Phone Call Sensor
                description: A binary_sensor that triggers when a call is received.
                selector:
                  entity:
                    domain: binary_sensor
              vacuum_entity:
                name: Vacuum Entity
                description: The vacuum entity to pause.
                selector:
                  entity:
                    domain: vacuum

            trigger:
              - platform: state
                entity_id: !input phone_call_sensor
                to: "on"

            condition:
              - platform: state
                entity_id: !input vacuum_entity
                state: "vacuuming"

            action:
              - service: vacuum.pause
                target:
                  entity_id: !input vacuum_entity
          ```
        thinking_content: |-
          1.  **Analyze the Request:**
              *   **Goal:** Create a Home Assistant Blueprint automation.
              *   **Trigger:** `phone_call_sensor` (binary_sensor) goes `on`.
              *   **Condition:** The `vacuum_entity` is currently `running`.
              *   **Action:** Pause the `vacuum_entity`.
              *   **Constraints:** Pause, not stop. Manual resume allowed.
              *   **Input Parameters:** `phone_call_sensor` and `vacuum_entity`.

          2.  **Determine the Blueprint Structure:**
              *   Blueprint YAML structure consists of `blueprint:` root, `domain: automation`, `input:` for variables, `trigger:` for events, `condition:` for logic checks, and `action:` for steps.

          3.  **Drafting the YAML:**

              *   *Header:* Standard blueprint definition.
                  ```yaml
                  blueprint:
                    domain: automation
                    name: Vacuum Pause on Phone Call
                    description: Pauses a vacuum when a phone call is received.
                    input:
                      phone_call_sensor:
                        name: Phone Call Sensor
                        description: Binary sensor that triggers on phone call.
                        selector:
                          entity:
                            domain: binary_sensor
                      vacuum_entity:
                        name: Vacuum Entity
                        description: Vacuum to pause.
                        selector:
                          entity:
                            domain: vacuum
                  ```

              *   *Trigger:*
                  *   The sensor goes high (1/on).
                  *   ```yaml
                    trigger:
                      - platform: state
                        entity_id: !input phone_call_sensor
                        to: "on"
                    ```

              *   *Condition:*
                  *   The vacuum must be running.
                  *   ```yaml
                    condition:
                      - platform: state
                        entity_id: !input vacuum_entity
                        state: "vacuuming"
                    ```

              *   *Action:*
                  *   Pause the vacuum.
                  *   `service: vacuum.pause`
                  *   `target: !input vacuum_entity`
                  *   ```yaml
                    action:
                      - service: vacuum.pause
                        target:
                          entity_id: !input vacuum_entity
                  ```

          4.  **Refining and Reviewing:**
              *   Does it meet the "Pause" requirement? Yes, `vacuum.pause`.
              *   Does it meet the "Condition" requirement? Yes, checks if vacuum is running.
              *   Does it meet the "Trigger" requirement? Yes, binary sensor `on`.
              *   Is it clean? Yes.

          5.  **Formatting Output:**
              *   Present the YAML clearly within a code block.

          6.  **Final Polish (Mental Check):**
              *   `vacuum_entity` state check: `vacuuming` is the correct state to pause. `docked` or `error` would be skipped, which is correct.

          7.  **Construct Final Response:** (Produce the YAML block).
        tool_calls: null
        native: null
        created: 2026-01-27 17:35:25.365485+00:00
      tools: null
    timestamp: 2026-01-27 17:35:17.295061+00:00
  duration_ms: 8072.332
  tries: 1
